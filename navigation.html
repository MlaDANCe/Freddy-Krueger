<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Super
    Mario</title>
    <meta charset="utf-8"/>
    <style>
        div, canvas {
            position: absolute;
        }
    </style>
</head>
<body>
<canvas id="canvas" width='800' height="600"></canvas>
<script type="text/javascript">
    var img = new Image();

    // User Variables - customize these to change the image being scrolled, its
    // direction, and the speed.

    img.src = 'background.png';
    var CanvasXSize = 800;
    var CanvasYSize = 200;
    var speed = 10; //lower is faster
    var scale = 1.05;
    var y = -4.5; //vertical offset

    // Main program

    var dx = 0.75;
    var imgW;
    var imgH;
    var x = 0;
    var clearX;
    var clearY;
    var ctx;

    img.onload = function () {
        imgW = img.width * scale;
        imgH = img.height * scale;
        if (imgW > CanvasXSize) {
            x = CanvasXSize - imgW;
        } // image larger than canvas
        if (imgW > CanvasXSize) {
            clearX = imgW;
        } // image larger than canvas
        else {
            clearX = CanvasXSize;
        }
        if (imgH > CanvasYSize) {
            clearY = imgH;
        } // image larger than canvas
        else {
            clearY = CanvasYSize;
        }
        //Get Canvas Element
        ctx = document.getElementById('canvas').getContext('2d');
        //Set Refresh Rate
        return setInterval(draw, speed);
    }

    function draw() {
        //Clear Canvas
        ctx.clearRect(0, 0, clearX, clearY);
        //If image is <= Canvas Size
        if (imgW <= CanvasXSize) {
            //reset, start from beginning
            if (x > (CanvasXSize)) {
                x = 0;
            }
            //draw aditional image
            if (x > (CanvasXSize - imgW)) {
                ctx.drawImage(img, x - CanvasXSize + 1, y, imgW, imgH);
            }
        }
        //If image is > Canvas Size
        else {
            //reset, start from beginning
            if (x > (CanvasXSize)) {
                x = CanvasXSize - imgW;
            }
            //draw aditional image
            if (x > (CanvasXSize - imgW)) {
                ctx.drawImage(img, x - imgW + 1, y, imgW, imgH);
            }
        }
        //draw image
        ctx.drawImage(img, x, y, imgW, imgH);
        //amount to move
        x += dx;
    }
</script>
<div id="canvas-wrapper" style="border: 1px solid black; width: 800px; height: 600px"></div>
<script src="kinetic-v5.1.0.min.js"></script>
<script src="navigation.js"></script>
</body>
</html>
